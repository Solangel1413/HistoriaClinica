<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Consulta Médica</title>
    <!-- Importar fuentes de Google -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
    <!-- Importar html2pdf.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
        <body>
            <!-- Cabecera con logo y título -->
            <div class="container">
                <div class="button-group">
                    <button id="toggleForm" class="button"><i class="fas fa-exchange-alt"></i> Cambiar Vista</button>
                    <button id="exportPDF" class="button export-button"><i class="fas fa-file-pdf"></i> Exportar a PDF</button>
                    <button id="clearFields" class="button clear-button"><i class="fas fa-eraser"></i> Limpiar Campos</button>
                    <script src="historia.js"></script>
                </div>
                
                <!-- Formulario con campos completos -->
                <div class="form-container animate__animated animate__fadeIn" id="filledForm">
                    <!-- Encabezado -->
                    <div class="form-header">
                        <h1><i class="fas fa-stethoscope"></i> Atención en Consulta Externa</h1>
                    </div>
                    
                    <!-- Información del paciente -->
                    <div class="card">
                        <div class="card-header">
                            <h2><i class="fas fa-user-circle"></i> Datos del Paciente</h2>
                        </div>
                        <div class="card-body">
                            <div class="grid-3">
                                <div class="form-group">
                                    <label for="nombre_paciente">Nombres:</label>
                                    <input type="text" id="nombre_paciente" name="nombre_paciente" placeholder="Nombres del paciente">
                                </div>
                                <div class="form-group">
                                    <label for="apellidos_paciente">Apellidos:</label>
                                    <input type="text" id="apellidos_paciente" name="apellidos_paciente" placeholder="Apellidos del paciente">
                                </div>
                                <div class="form-group">
                                    <label for="dni">DNI:</label>
                                    <input type="text" id="dni" name="dni" placeholder="Número de DNI">
                                </div>
                            </div>
                            <div class="grid-3">
                                <div class="form-group">
                                    <label for="fecha_nacimiento">Fecha de Nacimiento:</label>
                                    <input type="date" id="fecha_nacimiento" name="fecha_nacimiento">
                                </div>
                                <div class="form-group">
                                    <label for="edad">Edad:</label>
                                    <input type="number" id="edad" name="edad" placeholder="Edad">
                                </div>
                                <div class="form-group">
                                    <label for="genero">Género:</label>
                                    <select id="genero" name="genero">
                                        <option value="">Seleccione</option>
                                        <option value="masculino">Masculino</option>
                                        <option value="femenino">Femenino</option>
                                        <option value="otro">Otro</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Detalles de la consulta -->
                    <div class="card">
                        <div class="card-header">
                            <h2><i class="fas fa-clipboard-list"></i> Detalles de la Consulta</h2>
                        </div>
                        <div class="card-body">
                            <div class="grid-2">
                                <div class="form-group">
                                    <label for="fecha_atencion">Fecha de Atención:</label>
                                    <input type="date" id="fecha_atencion" name="fecha_atencion" class="current-date">
                                </div>
                                <div class="form-group">
                                    <label for="hora_atencion">Hora de Atención:</label>
                                    <input type="time" id="hora_atencion" name="hora_atencion" class="current-time">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="motivo_consulta">Motivo de Consulta:</label>
                                <textarea id="motivo_consulta" name="motivo_consulta" placeholder="Describa el motivo de la consulta"></textarea>
                            </div>
                            <div class="form-group">
                                <label for="signos_sintomas">Signos y Síntomas:</label>
                                <textarea id="signos_sintomas" name="signos_sintomas" placeholder="Detalle los signos y síntomas presentados"></textarea>
                            </div>
                            <div class="form-group">
                                <label for="relato_cronologico">Relato Cronológico:</label>
                                <textarea id="relato_cronologico" name="relato_cronologico" placeholder="Describa el relato cronológico de la enfermedad"></textarea>
                            </div>
                            <div class="form-group">
                                <label for="tiempo_enfermedad">Tiempo de Enfermedad:</label>
                                <textarea id="tiempo_enfermedad" name="tiempo_enfermedad" placeholder="Detalle el tiempo de evolución de la enfermedad"></textarea>
                            </div>
                        </div>
                    </div>
                    <!-- Funciones biológicas -->
                    <div class="card">
                        <div class="card-header">
                            <h2><i class="fas fa-heartbeat"></i> Funciones Biológicas</h2>
                        </div>
                        <div class="card-body">
                            <div class="grid-3">
                                <div class="form-group">
                                    <label for="apetito">Apetito:</label>
                                    <select id="apetito" name="apetito">
                                        <option value="">Seleccione</option>
                                        <option value="normal">Normal</option>
                                        <option value="aumentado">Aumentado</option>
                                        <option value="disminuido">Disminuido</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="sed">Sed:</label>
                                    <select id="sed" name="sed">
                                        <option value="">Seleccione</option>
                                        <option value="normal">Normal</option>
                                        <option value="aumentada">Aumentada</option>
                                        <option value="disminuida">Disminuida</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="sueno">Sueño:</label>
                                    <select id="sueno" name="sueno">
                                        <option value="">Seleccione</option>
                                        <option value="normal">Normal</option>
                                        <option value="aumentado">Aumentado</option>
                                        <option value="disminuido">Disminuido</option>
                                    </select>
                                </div>
                            </div>
                            <div class="grid-2">
                                <div class="form-group">
                                    <label for="orina">Orina:</label>
                                    <select id="orina" name="orina">
                                        <option value="">Seleccione</option>
                                        <option value="normal">Normal</option>
                                        <option value="aumentada">Aumentada</option>
                                        <option value="disminuida">Disminuida</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="deposiciones">Deposiciones:</label>
                                    <select id="deposiciones" name="deposiciones">
                                        <option value="">Seleccione</option>
                                        <option value="normal">Normal</option>
                                        <option value="aumentadas">Aumentadas</option>
                                        <option value="disminuidas">Disminuidas</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="page-break"></div>

                    <!-- Factores de riesgo y antecedentes -->
                    <div class="card">
                        <div class="card-header">
                            <h2><i class="fas fa-exclamation-triangle"></i> Factores de Riesgo y Antecedentes</h2>
                        </div>
                        <div class="card-body">
                            <div class="form-group">
                                <label for="factor_riesgo">Factor de Riesgo Identificado:</label>
                                <textarea id="factor_riesgo" name="factor_riesgo" placeholder="Detalle los factores de riesgo identificados"></textarea>
                            </div>
                            <div class="form-group">
                                <label for="antecedentes">Antecedentes de Importancia:</label>
                                <textarea id="antecedentes" name="antecedentes" placeholder="Detalle los antecedentes de importancia"></textarea>
                            </div>
                        </div>
                    </div>
                    <!-- Signos vitales y medidas antropométricas -->
                    <div class="card">
                        <div class="card-header">
                            <h2><i class="fas fa-thermometer-half"></i> Signos Vitales y Medidas Antropométricas</h2>
                        </div>
                        <div class="card-body">
                            <div class="grid-4">
                                <div class="form-group">
                                    <label for="temperatura">Temperatura (T°):</label>
                                    <div class="input-with-unit">
                                        <input type="text" id="temperatura" name="temperatura" placeholder="36.5">
                                        <span class="unit">°C</span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="presion_arterial">Presión Arterial (PA):</label>
                                    <div class="input-with-unit">
                                        <input type="text" id="presion_arterial" name="presion_arterial" placeholder="120/80">
                                        <span class="unit">mmHg</span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="frecuencia_cardiaca">Frecuencia Cardiaca (FC):</label>
                                    <div class="input-with-unit">
                                        <input type="text" id="frecuencia_cardiaca" name="frecuencia_cardiaca" placeholder="70">
                                        <span class="unit">lpm</span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="frecuencia_respiratoria">Frecuencia Respiratoria (FR):</label>
                                    <div class="input-with-unit">
                                        <input type="text" id="frecuencia_respiratoria" name="frecuencia_respiratoria" placeholder="16">
                                        <span class="unit">rpm</span>
                                    </div>
                                </div>
                            </div>
                            <div class="grid-4">
                                <div class="form-group">
                                    <label for="peso">Peso:</label>
                                    <div class="input-with-unit">
                                        <input type="text" id="peso" name="peso" placeholder="70">
                                        <span class="unit">kg</span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="talla">Talla:</label>
                                    <div class="input-with-unit">
                                        <input type="text" id="talla" name="talla" placeholder="170">
                                        <span class="unit">cm</span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="imc">IMC:</label>
                                    <div class="input-with-unit">
                                        <input type="text" id="imc" name="imc" placeholder="24.2" readonly>
                                        <span class="unit">kg/m²</span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="pab">PAB:</label>
                                    <div class="input-with-unit">
                                        <input type="text" id="pab" name="pab" placeholder="85">
                                        <span class="unit">cm</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Examen físico -->
                    <div class="card">
                        <div class="card-header">
                            <h2><i class="fas fa-search"></i> Examen Físico</h2>
                        </div>
                        <div class="card-body">
                            <div class="form-group">
                                <label for="examen_fisico">Hallazgos del Examen Físico:</label>
                                <textarea id="examen_fisico" name="examen_fisico" placeholder="Detalle los hallazgos del examen físico" rows="4"></textarea>
                            </div>
                        </div>
                    </div>
                    <!-- Diagnóstico y tratamiento -->
                    <div class="card">
                        <div class="card-header">
                            <h2><i class="fas fa-stethoscope"></i> Diagnóstico y Tratamiento</h2>
                        </div>
                        <div class="card-body">
                            <div class="diagnostico-table">
                                <!-- Encabezados de la tabla -->
                                <div class="table-header">
                                    <div class="table-cell">Diagnóstico</div>
                                    <div class="table-cell centered">Tipo de Dx</div>
                                    <div class="table-cell centered">CIE-10</div>
                                    <div class="table-cell">Tratamiento</div>
                                </div>
                                
                                <!-- Fila 1 -->
                                <div class="table-row">
                                    <div class="table-cell">
                                        <input type="text" name="diagnostico_1" placeholder="Diagnóstico 1">
                                    </div>
                                    <div class="table-cell centered">
                                        <div class="radio-group">
                                            <label>
                                                <input type="radio" name="tipo_dx_1" value="P">
                                                <span>P</span>
                                            </label>
                                            <label>
                                                <input type="radio" name="tipo_dx_1" value="D">
                                                <span>D</span>
                                            </label>
                                            <label>
                                                <input type="radio" name="tipo_dx_1" value="R">
                                                <span>R</span>
                                            </label>
                                        </div>
                                    </div>
        </body>
</html>

<script>
    // Verificar que html2pdf esté correctamente cargado
    document.addEventListener('DOMContentLoaded', function() {
        if (typeof html2pdf === 'undefined') {
            console.error('Error: html2pdf no está cargado correctamente');
            alert('Error: La biblioteca html2pdf no está cargada correctamente. Por favor, verifica tu conexión a internet.');
        } else {
            console.log('html2pdf cargado correctamente');
        }
    });
</script>


                                        